\subsection{Gini指数}

分类问题中，假设随机变量$X$有$N$个分类，样本点属于第$i$类的概率为$p_i$，则概率分布的基尼指数定义为

\begin{equation*}
    G(X) = \sum_{i=1}^Np_i(1-p_i)
\end{equation*}

\subsection{条件Gini指数}

类似条件熵，可以定义给定$X$的条件下的$Y$的条件基尼指数

\begin{equation*}
    G(Y|X) = \sum_{i=1}^Np_{i*}\sum_{j=1}^K\frac{p_{ij}}{p_{i*}}(1 - \frac{p_{ij}}{p_{i*}})
\end{equation*}

若定义

\begin{equation*}
    f(x) = x(1 - x)
\end{equation*}

容易证明
\begin{equation*}
    \frac{\partial^2 f}{\partial x^2} = -2 < 0 \quad \text{for} \quad \forall x
\end{equation*}

由函数凸性有
\begin{equation*}
    \sum_{i=1}^N p_i f(x_i) \leq f(\sum_{i=1}^N p_i x_i)
\end{equation*}

因此

\begin{equation*}
    \begin{array}{rcl}
        G(Y|X) & =    & \sum_{i=1}^Np_{i*}\sum_{j=1}^Kf(\frac{p_{ij}}{p_{i*}}) \\
               & =    & \sum_{i=1}^N\sum_{j=1}^Kp_{i*}f(\frac{p_{ij}}{p_{i*}}) \\
               & =    & \sum_{j=1}^K\sum_{i=1}^Np_{i*}f(\frac{p_{ij}}{p_{i*}}) \\
               & \leq & \sum_{j=1}^Kf(\sum_{i=1}^Np_{i*}\frac{p_{ij}}{p_{i*}}) \\
               & =    & \sum_{j=1}^Kf(\sum_{i=1}^Np_{ij})                      \\
               & =    & \sum_{j=1}^Kf(p_{*j})                                  \\
               & =    & G(Y)
    \end{array}
\end{equation*}

\begin{remark}
    若样本集合$D$根据特征$A$是否取某一可能指$a$被分割成$D_1$和$D_2$两部分, 即
    \begin{equation*}
        D_1=\{(x,y)\in D| A(x) = a\}, D_2 = D - D_1
    \end{equation*}

    则在特征$A$的条件下, 集合D的Gini指数定义为

    \begin{equation}\label{gini_binary}
        G(D|A) = \frac{|D_1|}{|D|}G(D_1) + \frac{|D_2|}{|D|}G(D_2)
    \end{equation}
\end{remark}